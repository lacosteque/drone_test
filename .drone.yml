kind: pipeline
type: docker
name: default

environment:
  BIN_DIR: "/nerd_builder/src/usr/bin/"
  SHARE_DIR: "/nerd_builder/src/usr/share/"
  TEMP_DIR: "/nerd_builder/temp"
  OUTPUT_DIR: "/nerd_builder/output"

steps:
- name: pull
  image: alpine:3.15
  environment:
    TG_TOKEN:
      from_secret: tg_token
    TO: -1001184051909
  commands:
  - export PATH_FILE=$(cat "/tmp/$${HOME_DIR}/path.txt") 
  - apk add --update --no-cache curl

  


- name: builder
  temp: {}

- name: docker-socket
  host:
    path: /var/run/docker.sock

- name: docker-plugins
  host:
    path: /var/lib/docker/plugins/
